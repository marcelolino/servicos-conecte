<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#1E88E5">
  <title>Qserviços - App Mobile</title>
  <link rel="stylesheet" href="./styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
  <div id="app">
    <!-- Loading Screen -->
    <div id="loading" class="loading-screen">
      <div class="loader">
        <div class="loader-circle"></div>
        <p>Qserviços</p>
      </div>
    </div>

    <!-- Auth Screen -->
    <div id="auth-screen" class="auth-screen" style="display: none;">
      <div class="auth-container">
        <!-- Header -->
        <div class="auth-header">
          <div class="logo-section">
            <div class="logo">
              <i class="fas fa-cogs"></i>
            </div>
            <h1>Qserviços</h1>
            <p class="logo-subtitle">Conectando serviços e clientes</p>
          </div>
        </div>

        <!-- Login Form -->
        <div class="auth-form" id="login-form">
          <div class="form-content">
            <h2>Entrar</h2>
            <p class="form-subtitle">Acesse sua conta para continuar</p>
            
            <form id="loginForm">
              <div class="form-group">
                <label for="login-email">Email/Telefone *</label>
                <input type="text" id="login-email" name="email" required>
              </div>
              
              <div class="form-group">
                <label for="login-password">Senha *</label>
                <div class="password-input">
                  <input type="password" id="login-password" name="password" required>
                  <button type="button" class="toggle-password" onclick="togglePassword('login-password')">
                    <i class="far fa-eye"></i>
                  </button>
                </div>
              </div>
              
              <div class="form-options">
                <label class="checkbox-container">
                  <input type="checkbox" id="remember-me">
                  <span class="checkmark"></span>
                  <span class="checkbox-text">Lembrar de mim</span>
                </label>
                <a href="#" class="forgot-password" onclick="showForgotPassword()">Esqueceu a senha?</a>
              </div>
              
              <button type="submit" class="auth-btn primary">
                <span class="btn-text">Entrar</span>
                <div class="btn-loading" style="display: none;">
                  <i class="fas fa-spinner fa-spin"></i>
                </div>
              </button>
            </form>
            
            <div class="divider">
              <span>ou</span>
            </div>
            
            <button class="auth-btn google" onclick="signInWithGoogle()">
              <i class="fab fa-google"></i>
              <span>Continuar com Google</span>
            </button>
            
            <div class="auth-footer">
              <span>Não tem uma conta? </span>
              <a href="#" onclick="showRegister()">Cadastre-se</a>
            </div>
          </div>
        </div>

        <!-- Register Form -->
        <div class="auth-form" id="register-form" style="display: none;">
          <div class="form-content">
            <h2>Criar Conta</h2>
            <p class="form-subtitle">Passo <span id="register-step-number">1</span> de 2</p>
            
            <form id="registerForm">
              <!-- Step 1: Basic Info -->
              <div id="register-step-1" class="register-step">
                <div class="form-group">
                  <label for="register-name">Nome Completo *</label>
                  <input type="text" id="register-name" name="name" required>
                </div>
                
                <div class="form-group">
                  <label for="register-email">Email *</label>
                  <input type="email" id="register-email" name="email" required>
                </div>
                
                <div class="form-group">
                  <label for="register-phone">Telefone *</label>
                  <input type="tel" id="register-phone" name="phone" required placeholder="(11) 99999-9999">
                </div>
                
                <div class="form-group">
                  <label for="register-cpf">CPF</label>
                  <input type="text" id="register-cpf" name="cpf" placeholder="000.000.000-00">
                </div>
                
                <button type="button" class="auth-btn primary" onclick="nextRegisterStep()">
                  <span class="btn-text">Continuar</span>
                </button>
              </div>

              <!-- Step 2: Address and Password -->
              <div id="register-step-2" class="register-step" style="display: none;">
                <div class="location-helper">
                  <button type="button" class="location-btn" onclick="window.mobileApp.requestLocationPermission()">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Usar minha localização</span>
                  </button>
                  <p class="location-help-text">Permita o acesso à localização para preencher automaticamente seu endereço</p>
                </div>
                
                <div class="form-group">
                  <label for="register-cep">CEP</label>
                  <input type="text" id="register-cep" name="cep" placeholder="00000-000">
                </div>
                
                <div class="form-group">
                  <label for="register-address">Endereço</label>
                  <input type="text" id="register-address" name="address" placeholder="Rua, número">
                </div>
                
                <div class="form-group">
                  <label for="register-city">Cidade</label>
                  <input type="text" id="register-city" name="city" placeholder="Ex: Goiânia">
                </div>
                
                <div class="form-group">
                  <label for="register-state">Estado</label>
                  <input type="text" id="register-state" name="state" placeholder="Ex: GO">
                </div>
                
                <div class="form-group">
                  <label for="register-password">Senha *</label>
                  <div class="password-input">
                    <input type="password" id="register-password" name="password" required>
                    <button type="button" class="toggle-password" onclick="togglePassword('register-password')">
                      <i class="far fa-eye"></i>
                    </button>
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="register-confirm">Confirmar Senha *</label>
                  <div class="password-input">
                    <input type="password" id="register-confirm" name="confirmPassword" required>
                    <button type="button" class="toggle-password" onclick="togglePassword('register-confirm')">
                      <i class="far fa-eye"></i>
                    </button>
                  </div>
                </div>
                
                <div class="form-group">
                  <label class="checkbox-container">
                    <input type="checkbox" id="accept-terms" required>
                    <span class="checkmark"></span>
                    <span class="checkbox-text">Aceito os <a href="#" class="link">Termos de Uso</a></span>
                  </label>
                </div>
                
                <div class="register-step-buttons">
                  <button type="button" class="auth-btn secondary" onclick="previousRegisterStep()">
                    <span class="btn-text">Voltar</span>
                  </button>
                  <button type="submit" class="auth-btn primary">
                    <span class="btn-text">Criar Conta</span>
                    <div class="btn-loading" style="display: none;">
                      <i class="fas fa-spinner fa-spin"></i>
                    </div>
                  </button>
                </div>
              </div>
            </form>
            
            <div class="auth-footer">
              <span>Já tem uma conta? </span>
              <a href="#" onclick="showLogin()">Entrar</a>
            </div>
          </div>
        </div>

        <!-- Forgot Password Form -->
        <div class="auth-form" id="forgot-form" style="display: none;">
          <div class="form-content">
            <h2>Recuperar Senha</h2>
            <p class="form-subtitle">Digite seu email para receber o código de recuperação</p>
            
            <form id="forgotForm">
              <div class="form-group">
                <label for="forgot-email">Email *</label>
                <input type="email" id="forgot-email" name="email" required>
              </div>
              
              <button type="submit" class="auth-btn primary">
                <span class="btn-text">Enviar Código</span>
                <div class="btn-loading" style="display: none;">
                  <i class="fas fa-spinner fa-spin"></i>
                </div>
              </button>
            </form>
            
            <div class="auth-footer">
              <span>Lembrou da senha? </span>
              <a href="#" onclick="showLogin()">Entrar</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main App -->
    <div id="main-app" class="app-container" style="display: none;">
      <!-- Header -->
      <header class="app-header">
        <div class="location-bar">
          <i class="fas fa-map-marker-alt"></i>
          <span>Serviços em</span>
          <strong id="user-location">R. 101, 289 - St. Sul, Goiânia - GO, 74080-150, Brazil</strong>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="search-bar">
          <input type="text" placeholder="Buscar serviços..." id="search-input">
          <button class="search-btn">
            <i class="fas fa-search"></i>
          </button>
          <button class="profile-btn" id="profile-btn" onclick="handleProfileClick()">
            <i class="fas fa-user"></i>
          </button>
        </div>
      </header>

      <!-- Banner Section -->
      <section class="banner-section">
        <div class="banner-slide active">
          <div class="banner-content">
            <div class="banner-text">
              <h2>CLEANING SERVICE</h2>
              <div class="discount">
                <span class="discount-number">50</span>
                <span class="discount-text">% OFF from every purchase</span>
              </div>
            </div>
            <div class="banner-image">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 200'%3E%3Crect fill='%23E3F2FD' width='300' height='200'/%3E%3Ctext x='150' y='100' text-anchor='middle' fill='%231976D2' font-size='16'%3ECleaning Tools%3C/text%3E%3C/svg%3E" alt="Cleaning Service">
            </div>
          </div>
        </div>
        <div class="banner-indicators">
          <span class="dot active"></span>
          <span class="dot"></span>
        </div>
      </section>

      <!-- Search Results Section -->
      <section class="search-results-section" id="search-results" style="display: none;">
        <div class="section-header">
          <h3>Resultados da Busca</h3>
          <button class="clear-search" id="clear-search">Limpar</button>
        </div>
        <div class="services-list" id="search-results-list">
          <!-- Search results will be loaded here -->
        </div>
      </section>

      <!-- Categories -->
      <section class="categories-section" id="categories-section">
        <h3>Todas as Categorias</h3>
        <div class="categories-grid" id="categories-grid">
          <!-- Categories will be loaded here -->
        </div>
      </section>

      <!-- Popular Services -->
      <section class="services-section" id="popular-services-section">
        <div class="section-header">
          <h3>Serviços Populares</h3>
          <button class="view-all" onclick="window.mobileApp?.showAllServices()">Ver Todos</button>
        </div>
        <div class="services-list" id="popular-services">
          <!-- Services will be loaded here -->
        </div>
      </section>

      <!-- Current Offers -->
      <section class="offers-section" id="offers-section">
        <div class="section-header">
          <h3>Ofertas Atuais</h3>
          <button class="view-all" onclick="window.mobileApp?.showAllOffers()">Ver Todas</button>
        </div>
        <div class="offers-grid" id="current-offers">
          <!-- Offers will be loaded here -->
        </div>
      </section>

      <!-- Reservas/Bookings Section -->
      <section class="reservas-section" id="reservas-section" style="display: none;">
        <div class="section-header">
          <h3>Minhas Reservas</h3>
          <button class="new-booking-btn" id="new-booking-btn">
            <i class="fas fa-plus"></i>
            Nova Solicitação
          </button>
        </div>
        
        <!-- Tabs for reservas -->
        <div class="reservas-tabs">
          <div class="tab-item active" data-status="todas">Todas</div>
          <div class="tab-item" data-status="pending">Pendentes</div>
          <div class="tab-item" data-status="in_progress">Em Andamento</div>
          <div class="tab-item" data-status="completed">Concluídas</div>
        </div>
        
        <div class="reservas-list" id="reservas-list">
          <!-- Reservas will be loaded here -->
        </div>
        
        <div class="empty-reservas" id="empty-reservas" style="display: none;">
          <div class="empty-state">
            <i class="fas fa-calendar-alt" style="font-size: 48px; color: #ccc; margin-bottom: 16px;"></i>
            <p>Nenhuma reserva encontrada</p>
            <button class="btn-primary" id="create-first-booking">Fazer Primeira Solicitação</button>
          </div>
        </div>
      </section>

      <!-- Profile Section -->
      <section class="profile-section" id="profile-section" style="display: none;">
        <div class="profile-header">
          <div class="profile-avatar">
            <img id="profile-avatar" src="" alt="Avatar">
            <div class="avatar-placeholder">
              <i class="fas fa-user"></i>
            </div>
            <button class="change-avatar-btn">
              <i class="fas fa-camera"></i>
            </button>
          </div>
          <div class="profile-info">
            <h3 id="profile-name">Nome do Usuário</h3>
            <p id="profile-email">email@example.com</p>
            <span class="profile-badge" id="profile-badge">Cliente</span>
          </div>
        </div>

        <div class="profile-form">
          <form id="profile-form">
            <div class="form-group">
              <label for="profile-name-input">Nome Completo</label>
              <input type="text" id="profile-name-input" name="name" required>
            </div>
            
            <div class="form-group">
              <label for="profile-email-input">Email</label>
              <input type="email" id="profile-email-input" name="email" required>
            </div>
            
            <div class="form-group">
              <label for="profile-phone-input">Telefone</label>
              <input type="tel" id="profile-phone-input" name="phone">
            </div>
            
            <div class="form-group">
              <label for="profile-cpf-input">CPF</label>
              <input type="text" id="profile-cpf-input" name="cpf" placeholder="000.000.000-00">
            </div>
            
            <div class="form-group">
              <label for="profile-cep-input">CEP</label>
              <input type="text" id="profile-cep-input" name="cep" placeholder="00000-000">
            </div>
            
            <div class="form-group">
              <label for="profile-address-input">Endereço</label>
              <input type="text" id="profile-address-input" name="address">
            </div>
            
            <div class="form-group">
              <label for="profile-city-input">Cidade</label>
              <input type="text" id="profile-city-input" name="city">
            </div>
            
            <div class="form-group">
              <label for="profile-state-input">Estado</label>
              <input type="text" id="profile-state-input" name="state">
            </div>
            
            <button type="submit" class="save-profile-btn">
              <i class="fas fa-save"></i>
              Salvar Alterações
            </button>
          </form>
        </div>

        <!-- Profile Actions -->
        <div class="profile-actions">
          <div class="action-item" onclick="showChangePassword()">
            <i class="fas fa-key"></i>
            <span>Alterar Senha</span>
            <i class="fas fa-chevron-right"></i>
          </div>
          <div class="action-item" onclick="showNotificationSettings()">
            <i class="fas fa-bell"></i>
            <span>Notificações</span>
            <i class="fas fa-chevron-right"></i>
          </div>
          <div class="action-item" onclick="showPrivacySettings()">
            <i class="fas fa-shield-alt"></i>
            <span>Privacidade</span>
            <i class="fas fa-chevron-right"></i>
          </div>
          <div class="action-item" onclick="showHelp()">
            <i class="fas fa-question-circle"></i>
            <span>Ajuda</span>
            <i class="fas fa-chevron-right"></i>
          </div>
          <div class="action-item logout" onclick="window.mobileApp.handleLogout()">
            <i class="fas fa-sign-out-alt"></i>
            <span>Sair</span>
            <i class="fas fa-chevron-right"></i>
          </div>
        </div>
      </section>

      <!-- Bottom Navigation -->
      <nav class="bottom-nav">
        <div class="nav-item active" data-tab="home">
          <i class="fas fa-home"></i>
          <span>Início</span>
        </div>
        <div class="nav-item" data-tab="cart">
          <i class="fas fa-shopping-cart"></i>
          <span>Carrinho</span>
          <div class="cart-badge" id="cart-badge" style="display: none;">0</div>
        </div>
        <div class="nav-item" data-tab="reservas">
          <i class="fas fa-calendar-alt"></i>
          <span>Reservas</span>
        </div>
        <div class="nav-item" data-tab="offers">
          <i class="fas fa-percent"></i>
          <span>Ofertas</span>
        </div>
        <div class="nav-item" data-tab="profile">
          <i class="fas fa-user"></i>
          <span>Perfil</span>
        </div>
      </nav>

      <!-- Cart Section -->
      <section class="cart-section" id="cart-section" style="display: none;">
        <div class="section-header">
          <h3>Meu Carrinho</h3>
          <button class="clear-cart" id="clear-cart" onclick="window.mobileApp.clearCart()">Limpar Carrinho</button>
        </div>
        <div class="cart-items" id="cart-items">
          <!-- Cart items will be loaded here -->
        </div>
        <div class="cart-summary" id="cart-summary" style="display: none;">
          <div class="cart-total">
            <span>Total: R$ <span id="cart-total">0,00</span></span>
          </div>
          <button class="checkout-btn" onclick="proceedToCheckout()">Finalizar Pedido</button>
        </div>
        <div class="empty-cart" id="empty-cart">
          <div class="empty-state">
            <i class="fas fa-shopping-cart" style="font-size: 48px; color: #ccc; margin-bottom: 16px;"></i>
            <p>Seu carrinho está vazio</p>
            <button onclick="showTab('home')" class="btn-primary">Continuar Comprando</button>
          </div>
        </div>
      </section>

      <!-- Floating Action Button -->
      <div class="fab" id="fab">
        <i class="fas fa-plus"></i>
      </div>

      <!-- More Menu Modal -->
      <div id="more-menu" class="more-menu" style="display: none;">
        <div class="more-menu-content">
          <div class="more-menu-header">
            <button class="close-menu">
              <i class="fas fa-chevron-down"></i>
            </button>
          </div>
          <div class="more-menu-grid">
            <div class="menu-item" data-action="profile">
              <div class="menu-icon">
                <i class="fas fa-user"></i>
              </div>
              <span>Perfil</span>
            </div>
            <div class="menu-item" data-action="inbox">
              <div class="menu-icon">
                <i class="fas fa-inbox"></i>
              </div>
              <span>Mensagens</span>
            </div>
            <div class="menu-item" data-action="language">
              <div class="menu-icon">
                <i class="fas fa-language"></i>
              </div>
              <span>Idioma</span>
            </div>
            <div class="menu-item" data-action="settings">
              <div class="menu-icon">
                <i class="fas fa-cog"></i>
              </div>
              <span>Configurações</span>
            </div>
            <div class="menu-item" data-action="track">
              <div class="menu-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <span>Rastrear Pedido</span>
            </div>
            <div class="menu-item" data-action="coupons">
              <div class="menu-icon">
                <i class="fas fa-percent"></i>
              </div>
              <span>Cupons</span>
            </div>
          </div>
          <div class="app-version">Versão do App: 3.2</div>
        </div>
      </div>
    </div>
  </div>

  <script src="./app-complete.js"></script>
</body>
</html>